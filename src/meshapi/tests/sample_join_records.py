from meshapi.util.join_records import JoinRecord

MOCK_JOIN_RECORD_PREFIX = "join-record-test"

basic_sample_pre_submission_join_records: dict[str, JoinRecord] = {
    f"{MOCK_JOIN_RECORD_PREFIX}/v3/pre/2024/10/28/12/34/56/ec7b.json": JoinRecord(
        first_name="Jane",
        last_name="Doe",
        email_address="js@gmail.com",
        phone_number="+1 585-475-2411",
        street_address="197 Prospect Place",
        city="Brooklyn",
        state="NY",
        zip_code="11238",
        apartment="1",
        roof_access=True,
        referral="mocked join record.",
        ncl=True,
        trust_me_bro=False,
        version=3,
        uuid="c05a968f-ec7b-4c18-92e1-085e34a3e093",
        submission_time="2024-10-28T12:34:56",
        code="",
        replayed=0,
        install_number=None,
    ),
    f"{MOCK_JOIN_RECORD_PREFIX}/v3/pre/2024/10/30/12/34/57/0490.json": JoinRecord(
        first_name="Jon",
        last_name="Smith",
        email_address="js@gmail.com",
        phone_number="+1 585-475-2411",
        street_address="711 Hudson Street",
        city="Hoboken",
        state="NJ",
        zip_code="07030",
        apartment="",
        roof_access=True,
        referral="mocked join record.",
        ncl=True,
        trust_me_bro=False,
        version=3,
        uuid="1a55b949-0490-4b78-a2e8-10aea41d6f1d",
        submission_time="2024-10-30T12:34:57",
        code="",
        replayed=1,
        install_number=None,
    ),
    # To test that somehow we didn't get a post-join record we can still replay it.
    f"{MOCK_JOIN_RECORD_PREFIX}/v3/pre/2024/10/30/12/34/58/e4f1.json": JoinRecord(
        first_name="Benjamin",
        last_name="Doe",
        email_address="bd0190@gmail.com",
        phone_number="+1 585-475-2411",
        street_address="99 Kane Street",
        city="Brooklyn",
        state="NY",
        zip_code="11231",
        apartment="3R",
        roof_access=True,
        referral="mocked join record.",
        ncl=True,
        trust_me_bro=False,
        version=3,
        uuid="5f84cbee-e4f1-464d-9231-8330b1074d6d",
        submission_time="2024-10-30T12:34:58",
        code="",
        replayed=0,
        install_number=None,
    ),
    # To test that we can handle 409's correctly
    f"{MOCK_JOIN_RECORD_PREFIX}/v3/pre/2024/10/30/12/34/59/7cd3.json": JoinRecord(
        first_name="Rachel",
        last_name="Doe",
        email_address="rdoe2989@gmail.com",
        phone_number="+1 585-475-2411",
        street_address="99 Kane St",
        city="Brooklyn",
        state="NY",
        zip_code="11231",
        apartment="4R",
        roof_access=True,
        referral="mocked join record.",
        ncl=True,
        trust_me_bro=False,
        version=3,
        uuid="84e242be-7cd3-4e22-8ace-1fb393f5baad",
        submission_time="2024-10-30T12:34:59",
        code="",
        replayed=0,
        install_number=None,
    ),
    f"{MOCK_JOIN_RECORD_PREFIX}/v3/pre/2024/10/30/12/35/00/0f84.json": JoinRecord(
        first_name="Jeffrey",
        last_name="Mahoney",
        email_address="jm3489@gmail.com",
        phone_number="+1 585-475-2411",
        street_address="197 Prospect Place",
        city="Brooklyn",
        state="NY",
        zip_code="11238",
        apartment="8",
        roof_access=True,
        referral="mocked join record.",
        ncl=True,
        trust_me_bro=False,
        version=3,
        uuid="109ede4d-0f84-4044-a14c-090121f0c7d4",
        submission_time="2024-10-30T12:35:00",
        code="",
        replayed=0,
        install_number=None,
    ),
}

basic_sample_post_submission_join_records: dict[str, JoinRecord] = {
    # Submitted while MeshDB was throwing 500's
    f"{MOCK_JOIN_RECORD_PREFIX}/v3/post/2024/10/28/12/34/56/ec7b.json": JoinRecord(
        first_name="Jon",
        last_name="Smith",
        email_address="js@gmail.com",
        phone_number="+1 585-475-2411",
        street_address="197 Prospect Place",
        city="Brooklyn",
        state="NY",
        zip_code="11238",
        apartment="1",
        roof_access=True,
        referral="mocked join record.",
        ncl=True,
        trust_me_bro=False,
        version=3,
        uuid="c05a968f-ec7b-4c18-92e1-085e34a3e093",
        submission_time="2024-10-28T12:34:56",
        code="500",
        replayed=0,
        install_number=None,
    ),
    # Submitted while MeshDB was hard down. Should fail b/c New Jersey
    f"{MOCK_JOIN_RECORD_PREFIX}/v3/post/2024/10/30/12/34/57/0490.json": JoinRecord(
        first_name="Jane",
        last_name="Smith",
        email_address="jsmith2000@gmail.com",
        phone_number="+1 585-475-2411",
        street_address="711 Hudson Street",
        city="Hoboken",
        state="NJ",
        zip_code="07030",
        apartment="",
        roof_access=True,
        referral="mocked join record.",
        ncl=True,
        trust_me_bro=False,
        version=3,
        uuid="1a55b949-0490-4b78-a2e8-10aea41d6f1d",
        submission_time="2024-10-30T12:34:57",
        code="",
        replayed=1,
        install_number=None,
    ),
    # Submitted while MeshDB was hard down. This will test that we can handle 409's correctly
    f"{MOCK_JOIN_RECORD_PREFIX}/v3/post/2024/10/30/12/34/59/7cd3.json": JoinRecord(
        first_name="Rachel",
        last_name="Doe",
        email_address="rdoe2989@gmail.com",
        phone_number="+1 585-475-2411",
        street_address="99 Kane St",
        city="Brooklyn",
        state="NY",
        zip_code="11231",
        apartment="4R",
        roof_access=True,
        referral="mocked join record.",
        ncl=True,
        trust_me_bro=False,
        version=3,
        uuid="84e242be-7cd3-4e22-8ace-1fb393f5baad",
        submission_time="2024-10-30T12:34:59",
        code="",
        replayed=0,
        install_number=None,
    ),
    # To test that we ignore successful requests
    f"{MOCK_JOIN_RECORD_PREFIX}/v3/post/2024/10/30/12/35/00/0f84.json": JoinRecord(
        first_name="Jeffrey",
        last_name="Mahoney",
        email_address="jm3489@gmail.com",
        phone_number="+1 585-475-2411",
        street_address="197 Prospect Place",
        city="Brooklyn",
        state="NY",
        zip_code="11238",
        apartment="8",
        roof_access=True,
        referral="mocked join record.",
        ncl=True,
        trust_me_bro=False,
        version=3,
        uuid="109ede4d-0f84-4044-a14c-090121f0c7d4",
        submission_time="2024-10-30T12:35:00",
        code="201",
        replayed=0,
        install_number=100,
    ),
}

sample_dont_replay_join_records_pre: dict[str, JoinRecord] = {
    f"{MOCK_JOIN_RECORD_PREFIX}/v3/pre/2024/10/30/12/34/59/7cd3.json": JoinRecord(
        first_name="Rachel",
        last_name="Doe",
        email_address="rdoe2989@gmail.com",
        phone_number="+1 585-475-2411",
        street_address="99 Kane St",
        city="Brooklyn",
        state="NY",
        zip_code="11231",
        apartment="4R",
        roof_access=True,
        referral="mocked join record.",
        ncl=True,
        trust_me_bro=False,
        version=3,
        uuid="84e242be-7cd3-4e22-8ace-1fb393f5baad",
        submission_time="2024-10-30T12:34:59",
        code="",
        replayed=0,
        install_number=None,
    ),
}

sample_dont_replay_join_records_post: dict[str, JoinRecord] = {
    f"{MOCK_JOIN_RECORD_PREFIX}/v3/post/2024/10/30/12/34/59/7cd3.json": JoinRecord(
        first_name="Rachel",
        last_name="Doe",
        email_address="rdoe2989@gmail.com",
        phone_number="+1 585-475-2411",
        street_address="99 Kane St",
        city="Brooklyn",
        state="NY",
        zip_code="11231",
        apartment="4R",
        roof_access=True,
        referral="mocked join record.",
        ncl=True,
        trust_me_bro=False,
        version=3,
        uuid="84e242be-7cd3-4e22-8ace-1fb393f5baad",
        submission_time="2024-10-30T12:34:59",
        code="503",
        replayed=0,
        install_number=None,
    ),
}
